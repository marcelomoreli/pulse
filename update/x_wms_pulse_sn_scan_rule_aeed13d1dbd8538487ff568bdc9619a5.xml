<?xml version="1.0" encoding="UTF-8"?><record_update table="x_wms_pulse_sn_scan_rule">
    <x_wms_pulse_sn_scan_rule action="INSERT_OR_UPDATE">
        <active>true</active>
        <advanced>true</advanced>
        <applies_to>wf_workflow_version</applies_to>
        <condition/>
        <impact_level>high</impact_level>
        <impact_type>best_practices</impact_type>
        <recommendation>Do not modify generic workflows. Example RITM - Generic Single Task should be attached to a catalog item, but the workflow should not be modified.</recommendation>
        <script><![CDATA[// Result should be an array of findings
// A finding should have the following attributes: impact_type, impact_level, record_table, record_sys_id and recommendation
// Before returning result, JSON.stringify it.
// Example: result = '[{"impact_type":"Consistency","impact_level":"High","record_sys_id":"69df2b704fbc620024cf4e328110c7f5","record_table":"ldap_ou_config","recommendation":"Version in this update set is not the latest!"},{"type":"Consistency","criticality":"High","record_sys_id":"acfa8cc34f20220024cf4e328110c74f","record_table":"sys_dictionary","recommendation":"Version in this update set is not the latest!"}]';
// 'current' is the Code itself, related to the table that this applies (It's null in case you don't have a table set)
// 'update_set_item' is the sys_update_xml item
// 'setID' is the update set sys_id

(function (current, update_set_item, setID) {
	var forbiddenWfs = [
		'1b55d39313094740b7995a132244b095', // RITM - Generic Catalog Item
		'33981fab4f68b640d2d797411310c79f', // RITM - Generic Facilities - Mgr Notification
		'4d2df67f4f5d6600723c97411310c7dd', // RITM Generic Single Task
		'4d37b9b14f29a200723c97411310c700', // RITM - Generic Single Catalog Task
		'83c754694f4ee200d2d797411310c72d', // RITM - Generic Single Catalog Task With Grp Owner Approval
		'959e4e8a4fa1264020624e328110c769', // RITM - Generic Single Catalog Task With Mgr Approval
		'd3a10f034f107e0024cf4e328110c724', // RITM - Generic Single Catalog Task with Mgr Notification
	];
	result = '';
	var findings = [];

	if(forbiddenWfs.indexOf(current.workflow + '') >= 0) {
		var finding = {};
		finding.impact_type = 'Best Practices';
		finding.impact_level = 'High';
		finding.record_table = 'wf_workflow_version';
		finding.record_sys_id = current.sys_id + '';
		finding.recommendation = 'Do not modify generic workflows. Example RITM - Generic Single Task should be attached to a catalog item, but the workflow should not be modified.';
		findings.push(finding);
	}
	result = JSON.stringify(findings);
})(current, update_set_item, setID);]]></script>
        <short_description>Generic Workflow Updated</short_description>
        <sys_class_name>x_wms_pulse_sn_scan_rule</sys_class_name>
        <sys_created_by>jgbox</sys_created_by>
        <sys_created_on>2018-02-14 22:06:20</sys_created_on>
        <sys_customer_update>false</sys_customer_update>
        <sys_id>aeed13d1dbd8538487ff568bdc9619a5</sys_id>
        <sys_mod_count>7</sys_mod_count>
        <sys_name>Generic Workflow Updated</sys_name>
        <sys_package display_value="Pulse" source="x_wms_pulse">e970e883db6bdb0c1f0d322b7c9619a2</sys_package>
        <sys_policy/>
        <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
        <sys_scope display_value="Pulse">e970e883db6bdb0c1f0d322b7c9619a2</sys_scope>
        <sys_update_name>x_wms_pulse_sn_scan_rule_aeed13d1dbd8538487ff568bdc9619a5</sys_update_name>
        <sys_updated_by>mmoreli</sys_updated_by>
        <sys_updated_on>2018-04-06 22:22:19</sys_updated_on>
    </x_wms_pulse_sn_scan_rule>
</record_update>
